{% extends 'base.html' %} {% block title %}Calculator{% endblock title %}

{% block content %}

    <div class="calculator-container">
        <div class="calculator-description">
            <h2>Welcome to bill calculator</h2>
            <ul class="calculator-list" id="hidden-list">
                <li data-index="0">Specify table number</li>
                <li data-index="1">Input the bill total</li>
                <li data-index="2">Specify the tip percentage</li>
                <li data-index="3">Enter the number of people</li>
            </ul>
        </div>
        <form class="bill_form" method="post" action="/calculator" id='calculator-form'>
            <div class="form-group" data-index="0">
                <input 
                type="number"
                class="form-control"
                id="table-id"
                name="table-id"
                required/>

                <label for="table-id">
                    Table Number
                </label>
            </div>

            <div class="form-group" data-index="1">
                <input 
                type="text"
                class="form-control"
                id="total"
                name="total"
                required/>
                <div class="input-group-append">
                    <span class="input-group-text">Â£</span>
                </div>
                <label for="total">
                    Bill
                </label>
            </div>

            <div class="form-group" data-index="2">
                <input 
                type="text"
                class="form-control"
                id="tip"
                name="tip"
                required/>
                <div class="input-group-append">
                    <span class="input-group-text">%</span>
                </div>
                <label for="tip">
                    Tip
                </label>
            </div>

            <div class="form-group" data-index="3">
                <input 
                type="text"
                class="form-control"
                id="split"
                name="split"
                required/>

                <label for="split">
                    Number of people
                </label>
            </div>

            <button type="submit" class="btn" id="calculate-btn">
                Calculate
            </button>
        </form>
    </div>

    <div class="results" id="results">
        <h2 class="lists-title">Results</h2>
        <ul class="results-list" id="results-list">
            {% for result in results %}
            <div class="results-container">
                <button class="delete-button" data-result-id="{{ loop.index0 }}">x</button>
                <span class="table-number"><li class="results-item">Table {{ result.table_id }}</li></span>
                <div class="container-row">
                    <li class="results-item"> Total bill:</li>
                    <span class="price-value">{{ result.total }}</span>
                </div>
                <div class="container-row">
                    <li class="results-item">Tip:</li>
                    <span class="price-value">{{ result.tip }}</span>
                </div>
                <div class="container-row">
                    <li class="results-item">Price per person:</li>
                    <span class="price-value">{{ result.split }}</span>
                </div>
            </div>
            {% endfor %}
        </ul>
    </div>
        
{% endblock content %}